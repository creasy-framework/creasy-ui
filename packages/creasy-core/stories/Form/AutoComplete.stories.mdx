import { Meta } from '@storybook/addon-docs';
import { ArgsTable } from '@storybook/addon-docs';
import { AutoComplete } from '../../src';

<Meta title="Components/Form/Auto Complete" />

## Auto complete

> Type in Red/Green/Blue to search options

```tsx live expanded
render(() => {
  const [value, setValue] = React.useState(null);
  const colours = [
    { id: 'r', displayName: 'Red' },
    { id: 'g', displayName: 'Green' },
    { id: 'b', displayName: 'Blue' },
  ];

  const loadOptions = (inputValue: string): Promise<any[]> => (
    new Promise(resolve => (
        setTimeout(() =>
          resolve(colours.filter(
            c => c.displayName.indexOf(inputValue) !== -1)), 1000)
      ),
    )
  );

  return (
      <div style={{height: 100}}>
        <AutoComplete
          loadOptions={loadOptions}
          label="Color"
          value={value}
          size="m"
          onChange={(selection: any) => setValue(selection)}
          getOptionLabel={option => option.displayName}
          getOptionValue={option => option.id}
        />
      </div>
  );
})
```

## Multi-select

> Type in Red/Green/Blue to search options

```tsx live
render(() => {
  const [value, setValue] = React.useState({ id: 'g', displayName: 'Green' });
  const colours = [
    { id: 'r', displayName: 'Red' },
    { id: 'g', displayName: 'Green' },
    { id: 'b', displayName: 'Blue' },
  ];

  const loadOptions = (inputValue: string): Promise<any[]> => (
    new Promise(resolve => (
        setTimeout(() =>
          resolve(colours.filter(
            c => c.displayName.indexOf(inputValue) !== -1)), 1000)
      ),
    )
  );

  return (
      <div style={{height: 100}}>
        <AutoComplete
          loadOptions={loadOptions}
          label="Color"
          value={value}
          size="m"
          isMultipleSelect={true}
          onChange={(selection: any) => setValue(selection)}
          getOptionLabel={option => option.displayName}
          getOptionValue={option => option.id}
        />
      </div>
  );
})
```

<ArgsTable of={AutoComplete} />
