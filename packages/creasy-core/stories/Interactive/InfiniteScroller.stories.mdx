import { Meta } from '@storybook/addon-docs';
import { ArgsTable } from '@storybook/addon-docs';
import { InfinityScroller } from '../../src';

<Meta title="Components/Interactive/Infinity Scrolling" />

## Infinity scroller

> There are 3 pages in total

```tsx live expanded
render(() => {
  const TOTAL_ITEMS = 30;
  const [items, setItems] = React.useState(Array(10).fill(null).map(() => shortid()));
  const loadMore = () => {
    setTimeout(() => {
      setItems([...items, ...Array(10).fill(null).map(() => shortid())]);
    }, 100);
  };

  return (
    <div style={{ height: 300 }}>
      <InfinityScroller
        loadMore={loadMore}
        hasMore={items.length < TOTAL_ITEMS}
      >
        <List>
          {
            items.map((key, i) =>  (
              <List.Item key={key} onClick={close} icon={<Icons.Form/>}>
                {i}
              </List.Item>
            ))
          }
        </List>
      </InfinityScroller>
    </div>
  );
})
```

## Custom spinner

```tsx live
render(() => {
  const TOTAL_ITEMS = 30;
  const [items, setItems] = React.useState(Array(10).fill(null).map(() => shortid()));
  const loadMore = () => {
    setTimeout(() => {
      setItems([...items, ...Array(10).fill(null).map(() => shortid())]);
    }, 100);
  };

  return (
    <div style={{ height: 300 }}>
      <InfinityScroller
        spinner={<Spinner key="spinner" type="donut" size="s"/>}
        loadMore={loadMore}
        hasMore={items.length < TOTAL_ITEMS}
      >
        <List>
          {
            items.map((key, i) =>  (
              <List.Item key={key} onClick={close} icon={<Icons.Form/>}>
                {i}
              </List.Item>
            ))
          }
        </List>
      </InfinityScroller>
    </div>
  );
})
```

<ArgsTable of={InfinityScroller} />
